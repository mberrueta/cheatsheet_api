---
:description: Generated sheet for lvm
:tags:
- community
:shortcuts:
  :defaults:
    LV - logical volume; eg. root: "\n"
    Create PV: "pvcreate /dev/sda\n\n"
    Display info about PV: "pvdisplay /dev/sda\n\n"
    Create VG: "vgcreate vg0 /dev/sda\n\n"
    Display info about VG: "vgdispay vg0\n\n"
    Add PV to VG, PV must be created before: "vgextend vg0 /dev/sdb\n\n"
    Remove PV from VG: |+
      pvmove /dev/sdb         # Move data from PV
      vgreduce data /dev/sdb

    Deactivate VG, do this when you want to physically remove device: "vgchange --activate
      n vg0\n\n"
    Create LV: "lvcreate --name root --size 8G vg0\n\n"
    Extend LV size: "lvextend --size 16G vg0/root\n\n"
    Reduce LV size, FS must be resized first!: "lvreduce --size 8G vg0/root\n\n"
    Remove LV: "lvremove vg0/root\n\n"
    Create mirrored LV (RAID1): 'lvcreate --name root --size 8G --mirrors 1 data vg0

      '
    more devices in VG add '--mirrorlog core' to store logs in memory: "\n"
    Enable mirroring on existing LV: "lvconvert --mirrors 1 vg0/root\n\n"
    Create stripped LV (RAID0): "lvcreate --name root --size 8G --stripes 2 --stripesize
      4 vg0\n\n"
    ? Link --> https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/High_Availability_Add-On_Administration/s1-exclusiveactive-HAAA.html
    : |
      1> vgs --noheadings -o vg_name
      2> volume_list = [ "rhel_root", "rhel_home" ]
      3> dracut -H -f /boot/initramfs-$(uname -r).img $(uname -r)
      4> Reboot the node
      5> uname -r to verify the correct initrd image
